## Settings
{
    "number_of_shards": "1",
    "number_of_replicas": "0",
    "analysis": {
        "filter": {
            "english_stop": {
                "type":       "stop",
                "stopwords":  "_english_" 
            },
            "english_keywords": {
                "type":       "keyword_marker",
                "keywords":   ["example"] 
            },
            "english_stemmer": {
                "type":       "stemmer",
                "language":   "english"
            },
            "english_possessive_stemmer": {
                "type":       "stemmer",
                "language":   "possessive_english"
            },
            "synonyms_filter": {
                "type": "synonym_graph",
                "synonyms_set": "star_wars_synonyms",
                "updateable": true
            }
        },
        "analyzer": {
            "sw_index_analyzer": {
                "type": "custom",
                "tokenizer": "standard",
                "filter": [
                    "english_possessive_stemmer",
                    "lowercase",
                    "english_stop",
                    "english_keywords",
                    "english_stemmer"
                ]
            },
            "sw_search_analyzer": {
                "type": "custom",
                "tokenizer": "standard",
                "filter": [
                    "english_possessive_stemmer",
                    "lowercase",
                    "english_stop",
                    "english_keywords",
                    "english_stemmer",
                    "synonyms_filter"
                ]
            }
        }
    }
}

## Mappings
{
    "dynamic_templates": [{
        "metadata_as_keyword": {
            "match_mapping_type": "string",
            "path_match": "metadata.*",
            "runtime": {
                "type":"keyword"
            } 
        }
    }],
    "properties": {
        "id": {"type": "keyword"},
        "url": {"type": "keyword"},
        "crosslinked_keywords": {"type": "keyword"},
        "side_bar_json": {"type": "text", "index": true},
        "title": {
            "type": "text",
            "analyzer": "sw_index_analyzer",
            "search_analyzer": "sw_search_analyzer"
        },
        "lore": {
            "type": "text", 
            "analyzer": "sw_index_analyzer",
            "search_analyzer": "sw_search_analyzer",
            "copy_to": "lore_semantic"
        },
        "behind_the_scenes": {
            "type": "text",
            "analyzer": "sw_index_analyzer",
            "search_analyzer": "sw_search_analyzer"
        },
        "lore_semantic": {
            "type": "semantic_text",
            "inference_id": ".multilingual-e5-small-elasticsearch"
        }
    }
}